<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Trends Virals</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body data-page="admin">
    <!-- Header with Navigation -->
    <header>
        <div class="logo-container">
            <h1>Trends Virals</h1>
            <p class="tagline">Admin Dashboard</p>
        </div>

        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="news.html">News</a></li>
                <li><a href="community.html">Community</a></li>
                <li><a href="admin.html" class="active highlight">Admin</a></li>
            </ul>
        </nav>

        <div class="user-section">
            <div class="user-info">
                <img src="" alt="Admin Avatar" class="user-avatar-img">
                <span class="user-display-name">Admin</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="dropdown-menu">
                <a href="profile.html"><i class="fas fa-user"></i> My Profile</a>
                <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
                <a href="#" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Log Out</a>
            </div>
        </div>
    </header>

    <!-- Admin Content -->
    <main class="admin-container">
        <!-- Admin Sidebar -->
        <aside class="admin-sidebar">
            <nav class="admin-nav">
                <ul>
                    <li>
                        <a href="#dashboard" class="active" data-section="dashboard">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#featured-posts" data-section="featured-posts">
                            <i class="fas fa-star"></i> Featured Posts
                        </a>
                    </li>
                    <li>
                        <a href="#news-posts" data-section="news-posts">
                            <i class="fas fa-newspaper"></i> News Posts
                        </a>
                    </li>
                    <li>
                        <a href="#community" data-section="community">
                            <i class="fas fa-users"></i> Community
                        </a>
                    </li>
                    <li>
                        <a href="#users" data-section="users">
                            <i class="fas fa-user-friends"></i> Users
                        </a>
                    </li>
                    <li>
                        <a href="#media" data-section="media">
                            <i class="fas fa-images"></i> Media Library
                        </a>
                    </li>
                    <li>
                        <a href="#newsletter" data-section="newsletter">
                            <i class="fas fa-envelope"></i> Newsletter
                        </a>
                    </li>
                    <li>
                        <a href="#settings" data-section="settings">
                            <i class="fas fa-cog"></i> Settings
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Admin Content Area -->
        <div class="admin-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <h2 class="section-title">Dashboard</h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-users"></i></div>
                        <div class="stat-content">
                            <h3>Total Users</h3>
                            <p class="stat-value" id="total-users">Loading...</p>
                            <p class="stat-change positive">+5% this week</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-newspaper"></i></div>
                        <div class="stat-content">
                            <h3>Total Posts</h3>
                            <p class="stat-value" id="total-posts">Loading...</p>
                            <p class="stat-change positive">+12% this month</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-eye"></i></div>
                        <div class="stat-content">
                            <h3>Page Views</h3>
                            <p class="stat-value" id="total-views">Loading...</p>
                            <p class="stat-change positive">+8% this month</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-envelope"></i></div>
                        <div class="stat-content">
                            <h3>Subscribers</h3>
                            <p class="stat-value" id="total-subscribers">Loading...</p>
                            <p class="stat-change positive">+3% this month</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Recent Activity</h3>
                        <div class="activity-list" id="recent-activity">
                            <div class="loading-indicator">
                                <i class="fas fa-spinner fa-spin"></i> Loading activity...
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Quick Actions</h3>
                        <div class="quick-actions">
                            <button id="create-featured-post-btn" class="btn action-btn">
                                <i class="fas fa-plus"></i> New Featured Post
                            </button>
                            <button id="create-news-post-btn" class="btn action-btn">
                                <i class="fas fa-plus"></i> New News Post
                            </button>
                            <button id="manage-users-btn" class="btn action-btn">
                                <i class="fas fa-users-cog"></i> Manage Users
                            </button>
                            <button id="manage-media-btn" class="btn action-btn">
                                <i class="fas fa-photo-video"></i> Manage Media
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Featured Posts Section -->
            <section id="featured-posts" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">Featured Posts</h2>
                    <button id="add-new-featured-post" class="btn add-btn"><i class="fas fa-plus"></i> Add New</button>
                </div>

                <div class="content-controls">
                    <div class="search-filter">
                        <input type="text" id="featured-search" placeholder="Search posts...">
                        <select id="featured-filter">
                            <option value="">All Categories</option>
                            <option value="education">Education</option>
                            <option value="finance">Finance</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="sports">Sports</option>
                            <option value="news">News</option>
                            <option value="technology">Technology</option>
                        </select>
                        <button class="btn filter-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>

                    <div class="sort-options">
                        <label for="featured-sort">Sort by:</label>
                        <select id="featured-sort">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="views">Most Views</option>
                            <option value="title">Title (A-Z)</option>
                        </select>
                    </div>
                </div>

                <div class="content-table-container">
                    <table class="content-table" id="featured-posts-table">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Title</th>
                                <th>Category</th>
                                <th>Views</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6">
                                    <div class="loading-indicator">
                                        <i class="fas fa-spinner fa-spin"></i> Loading posts...
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="btn pagination-btn" id="prev-featured-page" disabled><i
                            class="fas fa-chevron-left"></i> Previous</button>
                    <span class="page-info" id="featured-page-info">Page 1 of 1</span>
                    <button class="btn pagination-btn" id="next-featured-page" disabled>Next <i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>

            <!-- News Posts Section -->
            <section id="news-posts" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">News Posts</h2>
                    <button id="add-new-news-post" class="btn add-btn"><i class="fas fa-plus"></i> Add New</button>
                </div>

                <div class="content-controls">
                    <div class="search-filter">
                        <input type="text" id="news-search" placeholder="Search news...">
                        <select id="news-filter">
                            <option value="">All Categories</option>
                            <option value="education">Education</option>
                            <option value="finance">Finance</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="sports">Sports</option>
                            <option value="news">News</option>
                            <option value="technology">Technology</option>
                        </select>
                        <button class="btn filter-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>

                    <div class="sort-options">
                        <label for="news-sort">Sort by:</label>
                        <select id="news-sort">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="views">Most Views</option>
                            <option value="title">Title (A-Z)</option>
                        </select>
                    </div>
                </div>

                <div class="content-table-container">
                    <table class="content-table" id="news-posts-table">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Title</th>
                                <th>Category</th>
                                <th>Views</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6">
                                    <div class="loading-indicator">
                                        <i class="fas fa-spinner fa-spin"></i> Loading news...
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="btn pagination-btn" id="prev-news-page" disabled><i class="fas fa-chevron-left"></i>
                        Previous</button>
                    <span class="page-info" id="news-page-info">Page 1 of 1</span>
                    <button class="btn pagination-btn" id="next-news-page" disabled>Next <i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>

            <!-- Community Section -->
            <section id="community" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">Community Management</h2>
                </div>

                <div class="content-controls">
                    <div class="search-filter">
                        <input type="text" id="community-search" placeholder="Search posts or users...">
                        <select id="community-filter">
                            <option value="all">All Posts</option>
                            <option value="reported">Reported Posts</option>
                            <option value="flagged">Flagged Content</option>
                        </select>
                        <button class="btn filter-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>
                </div>

                <div class="content-table-container">
                    <table class="content-table" id="community-posts-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Content</th>
                                <th>Likes</th>
                                <th>Comments</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6">
                                    <div class="loading-indicator">
                                        <i class="fas fa-spinner fa-spin"></i> Loading community posts...
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="btn pagination-btn" id="prev-community-page" disabled><i
                            class="fas fa-chevron-left"></i> Previous</button>
                    <span class="page-info" id="community-page-info">Page 1 of 1</span>
                    <button class="btn pagination-btn" id="next-community-page" disabled>Next <i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">User Management</h2>
                    <button id="add-new-user" class="btn add-btn"><i class="fas fa-user-plus"></i> Add New User</button>
                </div>

                <div class="content-controls">
                    <div class="search-filter">
                        <input type="text" id="users-search" placeholder="Search users...">
                        <select id="users-filter">
                            <option value="all">All Users</option>
                            <option value="admin">Admins</option>
                            <option value="active">Active Users</option>
                            <option value="inactive">Inactive Users</option>
                        </select>
                        <button class="btn filter-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>
                </div>

                <div class="content-table-container">
                    <table class="content-table" id="users-table">
                        <thead>
                            <tr>
                                <th>Avatar</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Joined Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="7">
                                    <div class="loading-indicator">
                                        <i class="fas fa-spinner fa-spin"></i> Loading users...
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="btn pagination-btn" id="prev-users-page" disabled><i class="fas fa-chevron-left"></i>
                        Previous</button>
                    <span class="page-info" id="users-page-info">Page 1 of 1</span>
                    <button class="btn pagination-btn" id="next-users-page" disabled>Next <i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>

            <!-- Media Library Section -->
            <section id="media" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">Media Library</h2>
                    <button id="upload-media-btn" class="btn add-btn"><i class="fas fa-cloud-upload-alt"></i> Upload
                        New</button>
                </div>

                <div class="content-controls">
                    <div class="search-filter">
                        <input type="text" id="media-search" placeholder="Search media...">
                        <select id="media-filter">
                            <option value="all">All Media</option>
                            <option value="image">Images</option>
                            <option value="featured">Featured Posts</option>
                            <option value="news">News Posts</option>
                            <option value="community">Community</option>
                        </select>
                        <button class="btn filter-btn"><i class="fas fa-filter"></i> Filter</button>
                    </div>
                </div>

                <div class="media-grid" id="media-grid">
                    <div class="loading-indicator">
                        <i class="fas fa-spinner fa-spin"></i> Loading media...
                    </div>
                </div>

                <div class="pagination">
                    <button class="btn pagination-btn" id="prev-media-page" disabled><i class="fas fa-chevron-left"></i>
                        Previous</button>
                    <span class="page-info" id="media-page-info">Page 1 of 1</span>
                    <button class="btn pagination-btn" id="next-media-page" disabled>Next <i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>

            <!-- Newsletter Section -->
            <section id="newsletter" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">Newsletter Management</h2>
                    <button id="create-newsletter-btn" class="btn add-btn"><i class="fas fa-paper-plane"></i> Create
                        Campaign</button>
                </div>

                <div class="admin-tabs">
                    <button class="tab-btn active" data-tab="subscribers">Subscribers</button>
                    <button class="tab-btn" data-tab="campaigns">Campaigns</button>
                    <button class="tab-btn" data-tab="templates">Templates</button>
                </div>

                <div class="tab-content active" id="subscribers-tab">
                    <div class="content-controls">
                        <div class="search-filter">
                            <input type="text" id="subscribers-search" placeholder="Search subscribers...">
                            <button class="btn filter-btn"><i class="fas fa-filter"></i> Filter</button>
                        </div>
                        <div class="action-buttons">
                            <button class="btn"><i class="fas fa-download"></i> Export CSV</button>
                        </div>
                    </div>

                    <div class="content-table-container">
                        <table class="content-table" id="subscribers-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="select-all-subscribers"></th>
                                    <th>Email</th>
                                    <th>Subscribed Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="5">
                                        <div class="loading-indicator">
                                            <i class="fas fa-spinner fa-spin"></i> Loading subscribers...
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="campaigns-tab">
                    <div class="content-table-container">
                        <table class="content-table" id="campaigns-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Subject</th>
                                    <th>Recipients</th>
                                    <th>Open Rate</th>
                                    <th>Sent Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="7">
                                        <div class="loading-indicator">
                                            <i class="fas fa-spinner fa-spin"></i> Loading campaigns...
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="templates-tab">
                    <div class="templates-grid" id="templates-grid">
                        <div class="loading-indicator">
                            <i class="fas fa-spinner fa-spin"></i> Loading templates...
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="admin-section">
                <div class="section-header">
                    <h2 class="section-title">Site Settings</h2>
                    <button id="save-settings-btn" class="btn save-btn"><i class="fas fa-save"></i> Save
                        Changes</button>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>General Settings</h3>
                        <form id="general-settings-form">
                            <div class="form-group">
                                <label for="site-title">Site Title</label>
                                <input type="text" id="site-title" name="site-title" value="Trends Virals">
                            </div>
                            <div class="form-group">
                                <label for="site-tagline">Tagline</label>
                                <input type="text" id="site-tagline" name="site-tagline"
                                    value="Your Hub for Trending Content">
                            </div>
                            <div class="form-group">
                                <label for="admin-email">Admin Email</label>
                                <input type="email" id="admin-email" name="admin-email" value="admin@trendsvirals.com">
                            </div>
                            <div class="form-group">
                                <label for="posts-per-page">Posts Per Page</label>
                                <input type="number" id="posts-per-page" name="posts-per-page" min="1" max="50"
                                    value="10">
                            </div>
                        </form>
                    </div>

                    <div class="settings-card">
                        <h3>Social Media</h3>
                        <form id="social-media-form">
                            <div class="form-group">
                                <label for="facebook-url">Facebook URL</label>
                                <input type="url" id="facebook-url" name="facebook-url"
                                    placeholder="https://facebook.com/yourpage">
                            </div>
                            <div class="form-group">
                                <label for="twitter-url">Twitter URL</label>
                                <input type="url" id="twitter-url" name="twitter-url"
                                    placeholder="https://twitter.com/yourhandle">
                            </div>
                            <div class="form-group">
                                <label for="instagram-url">Instagram URL</label>
                                <input type="url" id="instagram-url" name="instagram-url"
                                    placeholder="https://instagram.com/yourprofile">
                            </div>
                            <div class="form-group">
                                <label for="linkedin-url">LinkedIn URL</label>
                                <input type="url" id="linkedin-url" name="linkedin-url"
                                    placeholder="https://linkedin.com/company/yourcompany">
                            </div>
                        </form>
                    </div>

                    <div class="settings-card">
                        <h3>API Integrations</h3>
                        <form id="api-settings-form">
                            <div class="form-group">
                                <label for="google-analytics">Google Analytics ID</label>
                                <input type="text" id="google-analytics" name="google-analytics"
                                    placeholder="UA-XXXXXXXXX-X">
                            </div>
                            <div class="form-group">
                                <label for="mailchimp-api">Mailchimp API Key</label>
                                <input type="text" id="mailchimp-api" name="mailchimp-api"
                                    placeholder="xxxxxxxxxxxxxxxxxxxx-us1">
                            </div>
                        </form>
                    </div>

                    <div class="settings-card">
                        <h3>Security Settings</h3>
                        <form id="security-settings-form">
                            <div class="form-group">
                                <label for="user-registration">User Registration</label>
                                <select id="user-registration" name="user-registration">
                                    <option value="open">Open to All</option>
                                    <option value="moderated">Admin Approval Required</option>
                                    <option value="closed">Closed</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Comment Moderation</label>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="moderate-comments" name="moderate-comments" checked>
                                    <label for="moderate-comments">Moderate all comments</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>User Content</label>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="moderate-uploads" name="moderate-uploads" checked>
                                    <label for="moderate-uploads">Moderate user uploads</label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- User Modal -->
    <div id="user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="user-modal-title">Add New User</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="user-form">
                    <input type="hidden" id="user-id">

                    <div class="form-group">
                        <label for="user-email">Email</label>
                        <input type="email" id="user-email" required>
                    </div>

                    <div class="form-group">
                        <label for="user-display-name">Display Name</label>
                        <input type="text" id="user-display-name" required>
                    </div>

                    <div class="form-group" id="password-group">
                        <label for="user-password">Password</label>
                        <input type="password" id="user-password" required>
                    </div>

                    <div class="form-group">
                        <label for="user-role">Role</label>
                        <select id="user-role" required>
                            <option value="user">User</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn cancel-btn">Cancel</button>
                        <button type="submit" class="btn save-btn">Save User</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Media Upload Modal -->
    <div id="media-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Media</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="media-upload-form">
                    <div class="form-group">
                        <label for="media-upload">Select Files</label>
                        <input type="file" id="media-upload" multiple accept="image/*">
                        <div class="upload-preview-grid"></div>
                    </div>

                    <div class="form-group">
                        <label for="media-category">Category</label>
                        <select id="media-category">
                            <option value="general">General</option>
                            <option value="featured">Featured Posts</option>
                            <option value="news">News</option>
                            <option value="placeholder">Placeholders</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn cancel-btn">Cancel</button>
                        <button type="submit" class="btn upload-btn">Upload</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Newsletter Campaign Modal -->
    <div id="campaign-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Newsletter Campaign</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="campaign-form">
                    <div class="form-group">
                        <label for="campaign-name">Campaign Name</label>
                        <input type="text" id="campaign-name" required>
                    </div>

                    <div class="form-group">
                        <label for="campaign-subject">Email Subject</label>
                        <input type="text" id="campaign-subject" required>
                    </div>

                    <div class="form-group">
                        <label for="campaign-template">Template</label>
                        <select id="campaign-template" required>
                            <option value="">Select a template</option>
                            <option value="template1">Monthly Newsletter</option>
                            <option value="template2">New Post Alert</option>
                            <option value="template3">Special Announcement</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="campaign-content">Content</label>
                        <textarea id="campaign-content" rows="10" required></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn preview-btn">Preview</button>
                        <button type="button" class="btn save-draft-btn">Save Draft</button>
                        <button type="submit" class="btn send-btn">Send Now</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="admin-footer">
        <div class="copyright">
            <p>&copy; 2025 Trends Virals. Admin Dashboard.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/admin.js"></script>
    <script type="module" src="js/admin-auth.js"></script>
</body>

</html>